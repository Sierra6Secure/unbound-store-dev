server:
  # General Settings
  interface: 0.0.0.0
  port: 53

  do-ip4: yes
  do-ip6: no
  do-udp: yes
  do-tcp: yes

  verbosity: 1
  use-syslog: no
  logfile: ""

  # Allow recursion from localhost and typical home LAN ranges
  access-control: 127.0.0.0/8 allow
  access-control: 10.0.0.0/8 allow
  access-control: 172.16.0.0/12 allow
  access-control: 192.168.0.0/16 allow
  access-control: 0.0.0.0/0 refuse   # optional safety catchall

  # Privacy & Identity
  hide-identity: yes
  hide-version: yes
  use-caps-for-id: yes            # Randomizes case to prevent spoofing
  qname-minimisation: yes         # Only sends necessary data to upstream servers

  # Performance
  prefetch: yes                   # Refreshes popular records before they expire
  prefetch-key: yes               # Keeps DNSSEC keys fresh in the background

  # Hardening & Security
  harden-glue: yes
  harden-dnssec-stripped: yes
  harden-below-nxdomain: yes      # Prevents unnecessary traffic for invalid domains
  harden-algo-downgrade: yes      # Prevents downgrading to weaker encryption

  # Cache & Network
  cache-min-ttl: 0
  cache-max-ttl: 86400            # Limits cache to 24 hours
  edns-buffer-size: 1232          # Prevents packet fragmentation issues
  serve-expired: no

  tls-cert-bundle: /etc/ssl/certs/ca-certificates.crt
  tls-upstream: yes

  # Custom Settings

forward-zone:
  name: "."
  forward-first: no
  forward-tls-upstream: yes
  forward-addr: 1.1.1.1@853#cloudflare-dns.com
  forward-addr: 1.0.0.1@853#cloudflare-dns.com

remote-control:
  control-enable: yes
  control-interface: 127.0.0.1
  control-use-cert: no